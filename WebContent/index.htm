<!DOCTYPE html>
<html>
<head>
	<!-- 사이트 메타 정보 시작 -->
	<meta charset="utf-8" />
	<title>픽키</title>
	<link rel="shortcut icon" type="image/x-icon" href="res/favicon.ico">
	<link rel="icon" type="image/x-icon" href="res/favicon.ico">
	<link rel="manifest" href="./manifest.json">
	<link rel="canonical" href="https://pickey.tk/">
	<!-- 네이버™ 웹마스터 등록 -->
	<meta name="naver-site-verification" content="d62931d17669dd48824b2c905e2a0a322a504e87"/>
	<!-- 구글 웹마스터 등록 -->
	<meta name="google-site-verification" content="d-3JIFYPVex8kA8uM0ISDTJcyV3z3-Fo7ix77mbiU08"/>
	<meta name="nosnippet">
	<meta name="description" content="네이버™ 기반의 한국형 검색어 비교 게임!">
	<meta name="Keywords" content="네이버™ 기반의 한국형 검색어 비교 게임!">
	<meta property="og:type" content="website">
	<meta property="og:title" content="픽키">
	<meta property="og:description" content="네이버™ 기반의 한국형 검색어 비교 게임!">
	<meta property="og:image" content="https://pickey.tk/res/logo.png">
	<meta property="og:url" content="https://pickey.tk/">
	<meta name="viewport" content="width=device-width, height=device-height,
		initial-scale=1.0, maximum-scale=1.0, minimum-scale:1.0, user-scalable=no, shrink-to-fit=no">
	<!-- 사이트 메타 정보 끝 -->

	<!-- Global site tag (gtag.js) - Google Analytics 시작 -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-X3W9B0VVW2"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'G-X3W9B0VVW2');
	</script>
	<!-- Global site tag (gtag.js) - Google Analytics 끝 -->

	<!-- google adsense inform 시작 -->
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({
			google_ad_client: "ca-pub-5609154832705787",
			enable_page_level_ads: true
		});
	</script>
	<!-- google adsense inform 끝 -->

	<!-- Script 및 Style Sheet Import -->
	<script src="pickey.js"></script>
	<script src="pong.js"></script>
	<script src="filter.js"></script>
	<script src="jquery-3.3.1.js"></script>
	<script src="keyword-image/request-method/get-google-image.js"></script>
	<script type="text/javascript" src="./jsencrypt.js"></script>
	<!-- Share Button 관련 시작 -->
	<script src="share-buttons.js"></script>
	<!-- Kakao Talk -->
	<script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
	<!-- Share Button 관련 끝-->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
	<link rel="stylesheet" type="text/css" href="layout/pickey.css">
	<link rel="stylesheet" type="text/css" href="layout/pong.css">
	<link rel="stylesheet" type="text/css" href="layout/ad.css">
	<link rel="stylesheet" media="all and (orientation: landscape)" href="layout/landscape.css">
	<link rel="stylesheet" media="all and (orientation: portrait)" href="layout/portrait.css">
</head>

<body>
	<!-- 광고 시작 -->
	<div id="ads">
		<!-- 다음 AdFit 광고 시작 -->
		<script type="text/javascript" src="//t1.daumcdn.net/adfit/static/ad.min.js" async></script>
		<!-- 픽키 가로1 -->
			<div id="landscape1" class="adContainer">
				<div class="daumAdfit">
					<ins class="kakao_ad_area" style="display:none;"
						data-ad-unit    = "DAN-uveo3ck2i051"
						data-ad-width   = "160"
						data-ad-height  = "600">
					</ins>
				</div>
			</div>
		<!-- 픽키 가로2 -->
		<div id="landscape2" class="adContainer">
			<div class="daumAdfit">
				<ins class="kakao_ad_area" style="display:none;"
					data-ad-unit    = "DAN-urp31oj6m1bm"
					data-ad-width   = "160"
					data-ad-height  = "600">
				</ins>
			</div>
		</div>
		<!-- 픽키 가로 넓은 세로  -->
		<div id="widePortrait" class="adContainer">
			<div class="daumAdfit">
				<ins class="kakao_ad_area" style="display:none;"
					 data-ad-unit    = "DAN-t84kwzsbqw6c"
					 data-ad-width   = "728"
					 data-ad-height  = "90">
				</ins>
			</div>
		</div>
		<!-- 픽키 세로 좁은 가로1 -->
		<div id="shortLandscape1" class="adContainer">
			<div class="daumAdfit">
				<ins class="kakao_ad_area" style="display:none;"
					data-ad-unit    = "DAN-1iunpb4fqn2go"
					data-ad-width   = "250"
					data-ad-height  = "250">
				</ins>
			</div>
		</div>
		<!-- 픽키 세로 좁은 가로2  -->
		<div id="shortLandscape2" class="adContainer">
			<div class="daumAdfit">
				<ins class="kakao_ad_area" style="display:none;"
					data-ad-unit    = "DAN-1ib8rf4of6f5h"
					data-ad-width   = "250"
					data-ad-height  = "250">
				</ins>
			</div>
		</div>
		<!-- 픽키 가로 좁은 세로  -->
		<div id="narrowPortrait" class="adContainer">
			<div class="daumAdfit">
				<ins class="kakao_ad_area" style="display:none;"
					data-ad-unit    = "DAN-uvhgbs8w3gon"
					data-ad-width   = "320"
					data-ad-height  = "50">
				</ins>
			</div>
		</div>
		<!-- 픽키 세로 넓은 세로  -->
		<div id="longPortrait" class="adContainer">
			<div class="daumAdfit">
				<ins class="kakao_ad_area" style="display:none;"
					data-ad-unit    = "DAN-1k1zk2qpuu1pt"
					data-ad-width   = "320"
					data-ad-height  = "100">
				</ins>
			</div>
		</div>
		<!-- 다음 AdFit 광고 끝 -->
	</div>
	<!-- 광고 끝 -->

	<div class="game-wrapper">
		<div id="menu" class="state">
			<div id="menuTable" class="tables">
				<div class="cells">
					<!--<h1 id="title">PICKEY</h1>-->
					<a href="./" style="background-color: transparent;">
						<img id="title" class="title logo" src="res/logo.png" alt="PICKEY" style="background-color: transparent;">
					</a>
					<br>
					<h2 id="explanation">
					두 키워드 중 더 많이 검색된<br>
					키워드를 PICK!<br>
					<p class="caption"><br>* 저번 달의 네이버 검색횟수 기준입니다.</p>
					</h2>
					<br id="smartbr">
					<button id="normal", class="game-button" onclick="startGame()">일반 게임</button>
					<button id="time", class="game-button" onclick="startTimeAttack()">타임 어택</button>
					<button id="leaderboard", class="game-button" onclick="openPage('./leaderboard/')">리더 보드</button>
					<a href="http://developers.naver.com" target="_blank" id="naverAPI"></a>
				</div>
			</div>
		</div>

		<div id="game" class="state">
			<h1 id="score"> 점수 : <span></span></h1>
			<!-- 퐁 요소 -->
			<a id="pongSrc" onclick="readyThePong()">퐁 하러가기</a>
			<h1 id="exitPong", onclick="exitThePong()">퐁 나가기</h1>
			<h1 id="pongScore">0</h1>
			<div id="pongBall"><div id="pongBallText"><h1 style="color: black">VS</h1></div></div>
			<!-- 퐁 요소 끝 -->
			<div id="thecircle">
				<div id="front"><h1 id="ftext" style="color: black">VS</h1></div>
			  <div id="back"><h2 id="btext" style="color: white">뒤</h2></div>
			</div>

			<p id="src1" class="sourceLink" onclick="src1()" title="출처로 이동">이미지 출처</p>
			<p id="src2" class="sourceLink" onclick="src2()" title="출처로 이동">이미지 출처</p>

			<div id="image1" class="tables">
				<div class="cells">
					<h2 id="k1"></h2>
					<h1 id="num1"></h1>
					<button id="lowerButton", class="game-button" onclick="isLower()">PICK!</button>
				</div>
			</div>

			<div id="image2" class="tables">
				<div class="cells">
					<h2 id="k2"></h2>
					<h1 id="num2"></h1>
					<button id="higherButton", class="game-button" onclick="isHigher()">PICK!</button>
				</div>
			</div>
		</div>
	</div>

	<div id="gameOver" class="state">
		<div id="gameOverTable" class="tables">
			<div class="cells">
				<div class="cellsLayout">
					<!--<h1>GAME OVER</h1>-->
					<h1>
						<span id = "message"></span>
						<br><span id="userNickname"></span>님은 <span id="lastScore"></span>점 입니다!
						<br>(상위 <span id="percentileRank"></span>%)
					</h1>
					<button id="menuButton", class="game-button" onclick="backToMenu()">메뉴</button>
					<div id="queryInsertUpdate">
						<span id="rankDescription">랭킹은 자동으로 등록됩니다! 이름을 입력해 주세요.<br></span>
						<!-- span id="rankTitle", style="display: inline">이름 : </span -->
						 <!-- 칼럼제한에 의한 10자 이하 입력, active: 입력시 한글 디폴트, keycode13 = endter 키 -->
						<input id="nickname" type="text" maxlength=10 placeholder="NO_NAME" onkeydown="OnlyInput(event)"
								onkeypress="if(event.keyCode==13) {requestQueryRank(); return false;}" style="ime-mode:active;"/>
						<button id="confirm" type="button" onclick="requestQueryRank()" style="display: inline">이름 변경</button>
					</div>
				</div>
				<div class="share-buttons share-buttons-default align-center">
					<div class="share-button-layer">
						<span class="share-button-title">
							<picture>
								<source media="(min-width: 600px)" srcset="res/share-button-images/icon-share-32.png">
								<img src="res/share-button-images/icon-share.png">
							</picture>
						</span>
						<?php
							$active = array();
							array_push($active, 'naver');
							array_push($active, 'facebook');
							array_push($active, 'twitter');
							array_push($active, 'band');
							array_push($active, 'kakaostory');
							array_push($active, 'kakaotalk');
							array_push($active, 'google');
							array_push($active, 'line');
							$url = 'https://pickey.tk';
							$title = '픽키, 네이버™ 데이터 기반의 한국형 검색어 게임!';
						?>
						<?php foreach($active as $key=>$value):?>
						<button class="share-button <?php echo $value?>" onclick="
									share('<?php echo $value?>', '<?php echo addslashes($url)?>', '<?php echo addslashes($title)?>',
										previousName, score, gameType, percentileRank);">
							<picture>
								<source media="(min-width: 600px)" srcset="res/share-button-images/icon-<?php echo $value?>-32.png">
								<img src="res/share-button-images/icon-naver.png">
							</picture>
						</button>
						<?php endforeach?>
					</div>
				</div>
			</div>
		</div>
	</div>

	<footer class="footer">
		<div id="button" onclick="showFooter()"></div>
		<div id="container">
			<div id="cont">
				<div class="footer_center">
					<p>Copyright ⓒ since 2018. Pickey™. All rights reserved.<br>
							Members : NeoMind Studio™, 정재균, Rabbit.<br>
							Contact : pickeywebmaster@gmail.com<br>
						광고, 키워드 및 이미지의 저작권, 변경, 제안, 삭제 등의 문의는 이메일로 해주세요!
					</p>
				</div>
			</div>
		</div>
	</footer>
	<script>
		var showState = 0;
		var isToDownMode = 0;
		function showFooter() {
			showState++;
			yoso(".footer #button").style.transform = "rotate("+(showState*180)+"deg)";
			if((showState%2) == isToDownMode) {
				yoso(".footer").style.height = "2em";
				setTimeout(function(){
						yoso("#naverAPI").style.zIndex = 999;
				}, 500);
			}
			else {
				yoso("#naverAPI").style.zIndex = 100;
				yoso(".footer").style.height = "10em";
				yoso(".footer #container").style.bottom = "0";
			}
		}
	</script>

	<script>
	checkDevice();
	

	/**
	 * Reference: 	http://mkil.tistory.com/208,
	 *			 	http://webskills.kr/archives/310
	 * TODO : complete condition and use that
	 */
	function OnlyInput(event){
	   if((event.keyCode>=48) && (event.keyCode<=57)){          // 숫자 입력 허용
			;
	   } else if((event.keyCode>=96) && (event.keyCode<=105)){  // 숫자 입력 허용
			;
	   } else if((event.keyCode>=65) && (event.keyCode<=90)){   // 영문자 입력 허용
			;
	   } else if(event.keyCode==229 || event.keyCode==0){		// 유니코드 입력문자 명시적 허용
			;
	   } else if((event.keyCode==8) || (event.keyCode==9)){     // 백스페이스 및 Tab키 허용
			;
	   } else if((event.keyCode>=32) && (event.keyCode<=40)){   // 스페이스바, end, pg up/down, 커서 키 입력 허용
			;
	   } else if((event.keyCode==109) || (event.keyCode==189)){ // 하이픈, 언더바 키 입력 허용
			;
	   } else if(event.keyCode==46 && event.keyCode==16){		// delete, shift 키 허용
			;
	   } else if(event.keyCode==13){  							// Enter키 허용
			;
	   } else{                                                  // 나머지 외 막음
			event.preventDefault();
	   }
	}


	/**
	 * 크로스 사이트 스크립팅
	 * 코드 인젝션 (xss) 방어
	 */
	function isNonTag(elementId) {
		if(!Check_nonTag(yoso(elementId).value, '><') ||
			!Check_nonTag(yoso(elementId).value, '\\') ||
			!Check_nonTag(yoso(elementId).value, "'#")){
			Check_nonTagReturn(elementId);
			return false;
		}
		return true;
	}
	function Check_nonTag(text, opentag){
		var i ;

		for ( i=0; i < text.length; i++ ){
			if( opentag.indexOf(text.substring(i,i+1)) > 0){ break ; }
		}
		if ( i != text.length ){ return false; }
		else { return true ; }
		return false;
	}
	function Check_nonTagReturn(inputId){
		alert("특정 기호는 입력하실 수 없습니다! (<>, '#, \\ 등)");
		document.getElementById(inputId).focus();
		return false;
	}
	function filteringXSS(originText) {
		return originText.replace(/\<|\>|\"|\'|\%|\;|\(|\)|\&|\+|\\|\-/g, "");
	}
	</script>
</body>
</html>
